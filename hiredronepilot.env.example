# Contentful delivery API credentials
CONTENTFUL_SPACE_ID=your_contentful_space_id
CONTENTFUL_ACCESS_TOKEN=your_contentful_delivery_token

# Optional: Contentful environment (defaults to master in code)
CONTENTFUL_ENVIRONMENT=master

# Optional extras for tooling/preview workflows
CONTENTFUL_PREVIEW_TOKEN=
CONTENTFUL_MANAGEMENT_TOKEN=

# Backend (Vercel API + Railway Postgres)
DATABASE_URL=postgresql://username:password@host:5432/database
DB_SSL=true
# If DB_SSL is enabled, keep TLS certificate validation on in production.
DB_SSL_REJECT_UNAUTHORIZED=true

# Auth
# Magic-link auth is DB-backed. To create an initial admin identity:
#   node scripts/create-admin.mjs you@company.com

# Email (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxx
RESEND_FROM_EMAIL=HireDronePilot <noreply@hiredronepilot.uk>

# Base URL for email links
NEXT_PUBLIC_BASE_URL=https://hiredronepilot.uk
# Optional explicit canonical base URL (recommended for server-side origin checks)
APP_BASE_URL=https://hiredronepilot.uk
# Optional comma-separated allowlist for trusted request origins (admin POST/PATCH)
ALLOWED_ORIGINS=https://hiredronepilot.uk

# Abuse controls
# Max auth-link requests accepted per source IP within the window below
AUTH_RATE_LIMIT_MAX=20
# Window size for auth-link rate limiting (milliseconds)
AUTH_RATE_LIMIT_WINDOW_MS=900000
# Max enquiries accepted per source IP within the window below
ENQUIRY_RATE_LIMIT_MAX=20
# Window size for enquiry rate limiting (milliseconds)
ENQUIRY_RATE_LIMIT_WINDOW_MS=600000
# Invite token lifetime in days before token access is rejected as expired
PILOT_INVITE_TOKEN_TTL_DAYS=30
# Backlink/integration confirmation token lifetime in days
BACKLINK_TOKEN_TTL_DAYS=30

# AI anonymization
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini

# Vercel Cron auth (auto-populated on Vercel; set locally for manual testing)
CRON_SECRET=
